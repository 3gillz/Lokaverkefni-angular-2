<form [formGroup]="registerTraineeForm" (ngSubmit)="submit(registerTraineeForm)" class="smart-form client-form">
  <fieldset>
    <section>
      <label class="input"> <i class="icon-append fa fa-envelope"></i>
        <input type="email" formControlName="email" placeholder="Email address" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" spellcheck="false" autocomplete="off">
        <b class="tooltip tooltip-bottom-right">Used to enter the website and verify your account</b>
      </label>
      <small *ngIf="submitted && !registerTraineeForm.controls.email.valid">
        A valid email is required.
      </small>
    </section>
    <section>
      <label class="input"> <i class="icon-append fa fa-lock"></i>
        <input type="password" formControlName="password" placeholder="Pick password"  pattern="((?=.*\d)(?=.*[A-Z])(?=.*\W).{6,24})">
        <b class="tooltip tooltip-bottom-right">Don't forget your password</b>
      </label>
      <small *ngIf="submitted && !registerTraineeForm.controls.password.valid">
        Valid password is 6-24 digits long and must contain one lower case letter, one upper case letter, 
        one digit and one special character.
      </small>
    </section>
    <section>
      <label class="input"> <i class="icon-append fa fa-lock"></i>
        <input type="password" formControlName="confirmPassword" placeholder="Confirm password" autocomplete="off">
        <b class="tooltip tooltip-bottom-right">Don't forget your password</b>
      </label>
      <small *ngIf="submitted && !registerTraineeForm.controls.confirmPassword.valid">
        Password do not match.
      </small>
    </section>
  </fieldset>
  <fieldset>
    <section>
     <label class="input"> <i class="icon-append fa fa-user"></i>
        <input type="text" formControlName="name" placeholder="Full name" spellcheck="false"
         pattern="{{miscService.namePattern}}"
         >
      </label>
      <small *ngIf="submitted && !registerTraineeForm.controls.name.valid">
        Name not valid
      </small>
    </section>
    <div class="row">
      <section class="col col-6">      
        <label class="input"><i class="icon-append fa fa-columns"></i>
          <input type="text" formControlName="kennitala" placeholder="Kennitala" maxlength="10">
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.kennitala.valid">
          Kennitala not valid
        </small>
      </section>
      <section class="col col-6">      
        <label class="input"><i class="icon-append fa fa-expand"></i>
          <input type="text" formControlName="height" placeholder="Height" pattern="\d*" maxlength="3">
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.height.valid">
          Valid heigt is required
        </small>
      </section>
    </div>
    <div class="row">
      <section class="col col-6">
        <label class="input"> <i class="icon-append fa fa-home"></i>
          <input type="text" formControlName="address" placeholder="Address">
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.address.valid">
          Address is required
        </small>
      </section>
      <section class="col col-6">
       <label class="select">
          <select formControlName="country" [(ngModel)]="currentCountry" >
            <option *ngFor="let country of countries" value="{{country.alt}}">
              {{country.alt}}
            </option>
          </select><i></i>
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.country.valid">
          Country is required
        </small>
      </section>
    </div>
    <div class="row">
      <section class="col col-6">
        <label class="select">
          <select formControlName="gender">
            <option selected disabled>{{'Gender' | i18n}}</option>
            <option value="1">Male </option>
            <option value="2">Female </option>
          </select> <i></i> 
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.gender.valid">
          Please select gender
        </small>
      </section>
      <section class="col col-6">
        <label class="input"> <i class="icon-append fa fa-phone"></i>
          <input type="tel" formControlName="phone" placeholder="Phone number" pattern="\d*" maxlength="7">
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.phone.valid">
          Phone number not valid
        </small>
      </section>
    </div>
    <div class="row">
      <section class="col col-6">
        <label class="select">
            <select class="form-control" formControlName="jobDifficulty">
              <option selected disabled>{{'Job difficulty' | i18n}}</option>
              <option value="0">{{'Light' | i18n}}</option>
              <option value="1">{{'Medium' | i18n}}</option>
              <option value="2">{{'Hard' | i18n}}</option>
            </select> <i></i> 
        </label>
        <small *ngIf="submitted && !registerTraineeForm.controls.jobDifficulty.valid">
          Job difficulty is required
        </small>
      </section>
      <section class="col col-6">
        <label class="input"> <i class="icon-append fa fa-delicious"></i>
          <input type="text" formControlName="foodPref" placeholder="{{'Food pref' | i18n}}">
        </label>
      </section>
    </div>
    <div class="row">
      <section class="col col-6">
        <label class="input"> <i class="icon-append fa fa-hospital-o"></i>
          <input type="text" formControlName="injury" placeholder="{{'Injury' | i18n}}">
        </label>
      </section>
      <section class="col col-6">
        <label class="input"> <i class="icon-append fa fa-heartbeat"></i>
          <input type="text" formControlName="allergy" placeholder="{{'Allergy' | i18n}}">
        </label>
      </section>
    </div>
    <section>
      <label class="checkbox">
        <input type="checkbox" formControlName="terms" id="terms">
        <i></i>I agree with the <a href="#" data-toggle="modal" data-target="#traineeTermsModal"> Terms and Conditions </a>
      </label>
      <small *ngIf="submitted && !registerTraineeForm.controls.terms.valid">
        You must agree to the terms of use
      </small>
    </section>
  </fieldset>
  <footer>
     <button type="submit" class="btn btn-primary" [disabled]="!resolved">
       <i *ngIf="!resolved" class="fa fa-spinner fa-spin"></i> Register
    </button>
  </footer>
</form>